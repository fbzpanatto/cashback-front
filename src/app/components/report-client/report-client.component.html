<app-top-bar></app-top-bar>

<div class="report-wrapper">
  <div class="cashbacks first">

    <div class="cashback total">
      <mat-icon svgIcon="exchange"></mat-icon>
      <div class="paragraphs">
        <p>Total dispon√≠vel</p>
        <p class="value total">{{ data | totalCashBacks | currency: 'BRL' }}</p>
      </div>
    </div>

  </div>

  <div class="marketing">
    <div class="paragraphs">
      @for(item of message; track $index) {
        @if(item.link) {
          <p>
            <a target="_blank" rel="noopener noreferrer" [href]="item.link">{{ item.text }}</a>
          </p>
        } @else {
          <p [innerHTML]="formatText(item.text)"></p>
        }
      }
    </div>
  </div>

  <div class="cashbacks generic">
    @for(row of data; track $index) {
      <div class="cashback item">
        <mat-icon svgIcon="shopping"></mat-icon>
        <div class="paragraphs">
          <p class="center status">Valor: {{ row.saleValue | cashBack: row.cashback | currency: 'BRL' }}</p>
          <p>{{ row.withdrawnDate | cashBackClientStatus: currentDate: row.cashbackExpiration }} </p>
        </div>
      </div>
    }
  </div>

</div>
